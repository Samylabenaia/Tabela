<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tabela de Jogos - Beach Tennis</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; }
  table { border-collapse: collapse; width: 100%; margin-bottom: 30px; }
  th, td { border: 1px solid #000; padding: 8px; text-align: center; }
  th { background-color: #f2f2f2; }
  input, select { padding: 5px; margin: 5px; }
  button { padding: 5px 10px; margin: 5px; }
</style>
</head>
<body>

<h1>Tabela de Jogos - Feminino</h1>
<table id="feminino">
  <thead>
    <tr>
      <th>Nome</th>
      <th>Sets Ganhos</th>
      <th>Saldo de Jogos</th>
      <th>Pontos</th>
      <th>Ações</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>

<h1>Tabela de Jogos - Masculino</h1>
<table id="masculino">
  <thead>
    <tr>
      <th>Nome</th>
      <th>Sets Ganhos</th>
      <th>Saldo de Jogos</th>
      <th>Pontos</th>
      <th>Ações</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>

<h2>Adicionar Jogador</h2>
<select id="categoria">
  <option value="feminino">Feminino</option>
  <option value="masculino">Masculino</option>
</select>
<input type="text" id="nome" placeholder="Nome do jogador">
<button onclick="adicionarJogador()">Adicionar</button>

<h2>Registrar Jogo</h2>
<select id="categoriaJogo">
  <option value="feminino">Feminino</option>
  <option value="masculino">Masculino</option>
</select>
<input type="text" id="jogador1" placeholder="Nome Jogador 1">
<input type="text" id="jogador2" placeholder="Nome Jogador 2">
<input type="number" id="sets1" placeholder="Sets Ganhos J1" min="0">
<input type="number" id="sets2" placeholder="Sets Ganhos J2" min="0">
<select id="resultado">
  <option value="normal">Normal</option>
  <option value="wo1">WO Jogador 1</option>
  <option value="wo2">WO Jogador 2</option>
</select>
<button onclick="registrarJogo()">Registrar Jogo</button>

<script>
let jogadores = {
  feminino: {},
  masculino: {}
};

function adicionarJogador() {
  const categoria = document.getElementById('categoria').value;
  const nome = document.getElementById('nome').value.trim();
  if(nome && !jogadores[categoria][nome]) {
    jogadores[categoria][nome] = { sets: 0, saldo: 0, pontos: 0 };
    atualizarTabela(categoria);
  }
  document.getElementById('nome').value = '';
}

function atualizarTabela(categoria) {
  const tbody = document.getElementById(categoria).querySelector('tbody');
  tbody.innerHTML = '';
  for (const nome in jogadores[categoria]) {
    const jog = jogadores[categoria][nome];
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td>${nome}</td>
      <td>${jog.sets}</td>
      <td>${jog.saldo}</td>
      <td>${jog.pontos}</td>
      <td><button onclick="removerJogador('${categoria}','${nome}')">Remover</button></td>
    `;
    tbody.appendChild(tr);
  }
}

function removerJogador(categoria, nome) {
  delete jogadores[categoria][nome];
  atualizarTabela(categoria);
}

function registrarJogo() {
  const categoria = document.getElementById('categoriaJogo').value;
  const j1 = document.getElementById('jogador1').value.trim();
  const j2 = document.getElementById('jogador2').value.trim();
  const sets1 = parseInt(document.getElementById('sets1').value) || 0;
  const sets2 = parseInt(document.getElementById('sets2').value) || 0;
  const resultado = document.getElementById('resultado').value;

  if (!jogadores[categoria][j1] || !jogadores[categoria][j2]) {
    alert('Jogador não encontrado!');
    return;
  }

  if (resultado === 'wo1') {
    jogadores[categoria][j1].pontos = Math.max(0, jogadores[categoria][j1].pontos - 1);
    jogadores[categoria][j2].pontos += 3;
  } else if (resultado === 'wo2') {
    jogadores[categoria][j2].pontos = Math.max(0, jogadores[categoria][j2].pontos - 1);
    jogadores[categoria][j1].pontos += 3;
  } else {
    if (sets1 > sets2) {
      jogadores[categoria][j1].pontos += 3;
      jogadores[categoria][j2].pontos += 1;
    } else if (sets2 > sets1) {
      jogadores[categoria][j2].pontos += 3;
      jogadores[categoria][j1].pontos += 1;
    } else {
      jogadores[categoria][j1].pontos += 1;
      jogadores[categoria][j2].pontos += 1;
    }
  }

  jogadores[categoria][j1].sets += sets1;
  jogadores[categoria][j2].sets += sets2;

  jogadores[categoria][j1].saldo += sets1 - sets2;
  jogadores[categoria][j2].saldo += sets2 - sets1;

  atualizarTabela(categoria);

  document.getElementById('jogador1').value = '';
  document.getElementById('jogador2').value = '';
  document.getElementById('sets1').value = '';
  document.getElementById('sets2').value = '';
}

</script>
</body>
</html>
