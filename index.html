<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ranking Arena - Beach Tennis</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: linear-gradient(to right, #00c6ff, #0072ff);
  color: #333;
  margin: 0;
  padding: 20px;
}
h1, h2 { text-align: center; color: #fff; text-shadow: 1px 1px 2px #000; }

nav { text-align: center; margin-bottom: 20px; }
nav button {
  padding: 10px 20px;
  margin: 5px;
  border-radius: 5px;
  border: none;
  background-color: #0072ff;
  color: #fff;
  cursor: pointer;
}
nav button:hover { background-color: #0056b3; }

table {
  border-collapse: collapse;
  width: 90%;
  margin: 10px auto;
  background-color: #fff;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}
th, td { padding: 12px 15px; text-align: center; }
th { background-color: #0072ff; color: #fff; }
tr:nth-child(even) { background-color: #f2f2f2; }
tr.top1 { background-color: #ffd700 !important; font-weight: bold; }
tr.top2 { background-color: #c0c0c0 !important; font-weight: bold; }
tr.top3 { background-color: #cd7f32 !important; font-weight: bold; }

.form-section {
  max-width: 600px;
  margin: 20px auto;
  background: rgba(255,255,255,0.9);
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

input, select, button { padding: 10px; margin: 5px; border-radius: 5px; border: 1px solid #ccc; }
button { background-color: #0072ff; color: #fff; cursor: pointer; transition: 0.3s; }
button:hover { background-color: #0056b3; }

.hidden { display: none; }
</style>
</head>
<body>

<h1>Ranking Arena - Beach Tennis</h1>

<nav>
  <button onclick="mostrarTela('usuario')">Usuário</button>
  <button onclick="mostrarTela('loginAdmin')">Administrador</button>
</nav>

<!-- Tela Usuário -->
<div id="telaUsuario">
  <h2>Feminino</h2>
  <table id="tabelaFemininoUser">
    <thead>
      <tr>
        <th>Posição</th>
        <th>Nome</th>
        <th>Sets Ganhos</th>
        <th>Saldo de Sets</th>
        <th>Pontos</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <h2>Masculino</h2>
  <table id="tabelaMasculinoUser">
    <thead>
      <tr>
        <th>Posição</th>
        <th>Nome</th>
        <th>Sets Ganhos</th>
        <th>Saldo de Sets</th>
        <th>Pontos</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<!-- Tela Login Administrador -->
<div id="loginAdmin" class="hidden form-section">
  <h2>Login Administrador</h2>
  <input type="password" id="senhaAdmin" placeholder="Digite a senha">
  <button onclick="verificarSenha()">Entrar</button>
</div>

<!-- Tela Administrador -->
<div id="telaAdmin" class="hidden">

  <h2>Feminino</h2>
  <table id="tabelaFemininoAdmin">
    <thead>
      <tr>
        <th>Posição</th>
        <th>Nome</th>
        <th>Sets Ganhos</th>
        <th>Saldo de Sets</th>
        <th>Pontos</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <h2>Masculino</h2>
  <table id="tabelaMasculinoAdmin">
    <thead>
      <tr>
        <th>Posição</th>
        <th>Nome</th>
        <th>Sets Ganhos</th>
        <th>Saldo de Sets</th>
        <th>Pontos</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <div class="form-section">
    <h2>Adicionar Jogador(a)</h2>
    <select id="categoriaAdmin">
      <option value="feminino">Feminino</option>
      <option value="masculino">Masculino</option>
    </select>
    <input type="text" id="nomeAdmin" placeholder="Nome do jogador">
    <button onclick="adicionarJogador()">Adicionar</button>
  </div>

  <div class="form-section">
    <h2>Registrar Jogo</h2>
    <select id="categoriaJogo">
      <option value="feminino">Feminino</option>
      <option value="masculino">Masculino</option>
    </select>
    <input type="text" id="jogador1" placeholder="Jogador 1">
    <input type="text" id="jogador2" placeholder="Jogador 2">
    <input type="number" id="sets1" placeholder="Sets J1" min="0">
    <input type="number" id="sets2" placeholder="Sets J2" min="0">
    <select id="resultado">
      <option value="normal">Normal</option>
      <option value="wo1">WO Jogador 1</option>
      <option value="wo2">WO Jogador 2</option>
    </select>
    <button onclick="registrarJogo()">Registrar</button>
  </div>

</div>

<script>
let jogadores = { feminino: {}, masculino: {} };

function mostrarTela(tela) {
  document.getElementById('telaUsuario').classList.add('hidden');
  document.getElementById('loginAdmin').classList.add('hidden');
  document.getElementById('telaAdmin').classList.add('hidden');
  if(tela === 'usuario') atualizarTabelasUsuario();
  if(tela === 'loginAdmin') document.getElementById('loginAdmin').classList.remove('hidden');
  if(tela === 'admin') {
    atualizarTabelasAdmin();
    atualizarTabelasUsuario();
    document.getElementById('telaAdmin').classList.remove('hidden');
  }
}

function verificarSenha() {
  const senha = document.getElementById('senhaAdmin').value;
  if(senha === '1234') {
    mostrarTela('admin');
    document.getElementById('senhaAdmin').value = '';
  } else alert('Senha incorreta!');
}

function adicionarJogador() {
  const cat = document.getElementById('categoriaAdmin').value;
  const nome = document.getElementById('nomeAdmin').value.trim();
  if(!nome) return alert('Digite o nome do jogador.');
  if(jogadores[cat][nome]) return alert('Jogador já existe.');
  jogadores[cat][nome] = { sets: 0, saldo: 0, pontos: 0 };
  document.getElementById('nomeAdmin').value = '';
  atualizarTabelasAdmin();
  atualizarTabelasUsuario();
}

function atualizarTabelasAdmin() {
  atualizarTabela('feminino', 'tabelaFemininoAdmin');
  atualizarTabela('masculino', 'tabelaMasculinoAdmin');
}
function atualizarTabelasUsuario() {
  atualizarTabela('feminino', 'tabelaFemininoUser');
  atualizarTabela('masculino', 'tabelaMasculinoUser');
}

function atualizarTabela(categoria, tabelaID) {
  const tbody = document.getElementById(tabelaID).querySelector('tbody');
  tbody.innerHTML = '';

  let lista = Object.entries(jogadores[categoria]);
  lista.sort((a,b) => {
    if(b[1].pontos !== a[1].pontos) return b[1].pontos - a[1].pontos;
    if(b[1].sets !== a[1].sets) return b[1].sets - a[1].sets;
    return b[1].saldo - a[1].saldo;
  });

  lista.forEach((item,index) => {
    const nome = item[0];
    const jog = item[1];
    const tr = document.createElement('tr');
    if(index === 0) tr.classList.add('top1');
    else if(index === 1) tr.classList.add('top2');
    else if(index === 2) tr.classList.add('top3');
    tr.innerHTML = `<td>${index+1}</td><td>${nome}</td><td>${jog.sets}</td><td>${jog.saldo}</td><td>${jog.pontos}</td>`;
    tbody.appendChild(tr);
  });
}

function registrarJogo() {
  const cat = document.getElementById('categoriaJogo').value;
  const j1 = document.getElementById('jogador1').value.trim();
  const j2 = document.getElementById('jogador2').value.trim();
  const sets1 = parseInt(document.getElementById('sets1').value) || 0;
  const sets2 = parseInt(document.getElementById('sets2').value) || 0;
  const res = document.getElementById('resultado').value;

  if(!jogadores[cat][j1] || !jogadores[cat][j2]) return alert('Jogador não encontrado.');

  // Pontuação individual
  if(res === 'wo1') {
    jogadores[cat][j1].pontos += 0;
    jogadores[cat][j2].pontos += 3;
    jogadores[cat][j2].sets += sets2;
    jogadores[cat][j2].saldo += sets2;
  } else if(res === 'wo2') {
    jogadores[cat][j2].pontos += 0;
    jogadores[cat][j1].pontos += 3;
    jogadores[cat][j1].sets += sets1;
    jogadores[cat][j1].saldo += sets1;
  } else {
    jogadores[cat][j1].pontos += sets1 > sets2 ? 3 : 1;
    jogadores[cat][j2].pontos += sets2 > sets1 ? 3 : 1;
    jogadores[cat][j1].sets += sets1;
    jogadores[cat][j2].sets += sets2;
    jogadores[cat][j1].saldo += sets1 - sets2;
    jogadores[cat][j2].saldo += sets2 - sets1;
  }

  atualizarTabelasAdmin();
  atualizarTabelasUsuario();

  document.getElementById('jogador1').value = '';
  document.getElementById('jogador2').value = '';
  document.getElementById('sets1').value = '';
  document.getElementById('sets2').value = '';
}
</script>

</body>
</html>
