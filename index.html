<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tabela de Jogos</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; }
  table { border-collapse: collapse; width: 100%; margin-bottom: 30px; }
  th, td { border: 1px solid #000; padding: 8px; text-align: center; }
  th { background-color: #f2f2f2; }
  input, select, button { padding: 5px; margin: 5px; }
</style>
</head>
<body>

<h1>Jogadoras - Feminino</h1>
<table id="tabelaFeminino">
  <thead>
    <tr>
      <th>Nome</th>
      <th>Sets Ganhos</th>
      <th>Saldo de Jogos</th>
      <th>Pontos</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<h1>Jogadores - Masculino</h1>
<table id="tabelaMasculino">
  <thead>
    <tr>
      <th>Nome</th>
      <th>Sets Ganhos</th>
      <th>Saldo de Jogos</th>
      <th>Pontos</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<h2>Adicionar Jogador(a)</h2>
<select id="categoria">
  <option value="feminino">Feminino</option>
  <option value="masculino">Masculino</option>
</select>
<input type="text" id="nome" placeholder="Nome do jogador">
<button onclick="adicionarJogador()">Adicionar</button>

<h2>Registrar Jogo</h2>
<select id="categoriaJogo">
  <option value="feminino">Feminino</option>
  <option value="masculino">Masculino</option>
</select>
<input type="text" id="jogador1" placeholder="Jogador 1">
<input type="text" id="jogador2" placeholder="Jogador 2">
<input type="number" id="sets1" placeholder="Sets J1" min="0">
<input type="number" id="sets2" placeholder="Sets J2" min="0">
<select id="resultado">
  <option value="normal">Normal</option>
  <option value="wo1">WO Jogador 1</option>
  <option value="wo2">WO Jogador 2</option>
</select>
<button onclick="registrarJogo()">Registrar</button>

<script>
let jogadores = { feminino: {}, masculino: {} };

function adicionarJogador() {
  const cat = document.getElementById('categoria').value;
  const nome = document.getElementById('nome').value.trim();
  if(!nome) return alert('Digite o nome do jogador.');
  if(jogadores[cat][nome]) return alert('Jogador já existe.');
  jogadores[cat][nome] = { sets: 0, saldo: 0, pontos: 0 };
  atualizarTabela(cat);
  document.getElementById('nome').value = '';
}

function atualizarTabela(categoria) {
  const tbody = document.getElementById(categoria === 'feminino' ? 'tabelaFeminino' : 'tabelaMasculino').querySelector('tbody');
  tbody.innerHTML = '';
  for(const nome in jogadores[categoria]){
    const jog = jogadores[categoria][nome];
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${nome}</td><td>${jog.sets}</td><td>${jog.saldo}</td><td>${jog.pontos}</td>`;
    tbody.appendChild(tr);
  }
}

function registrarJogo() {
  const cat = document.getElementById('categoriaJogo').value;
  const j1 = document.getElementById('jogador1').value.trim();
  const j2 = document.getElementById('jogador2').value.trim();
  const sets1 = parseInt(document.getElementById('sets1').value) || 0;
  const sets2 = parseInt(document.getElementById('sets2').value) || 0;
  const res = document.getElementById('resultado').value;

  if(!jogadores[cat][j1] || !jogadores[cat][j2]) return alert('Jogador não encontrado.');

  if(res === 'wo1') {
    jogadores[cat][j1].pontos = Math.max(0, jogadores[cat][j1].pontos - 1);
    jogadores[cat][j2].pontos += 3;
  } else if(res === 'wo2') {
    jogadores[cat][j2].pontos = Math.max(0, jogadores[cat][j2].pontos - 1);
    jogadores[cat][j1].pontos += 3;
  } else {
    if(sets1 > sets2){
      jogadores[cat][j1].pontos += 3;
      jogadores[cat][j2].pontos += 1;
    } else if(sets2 > sets1){
      jogadores[cat][j2].pontos += 3;
      jogadores[cat][j1].pontos += 1;
    } else {
      jogadores[cat][j1].pontos += 1;
      jogadores[cat][j2].pontos += 1;
    }
  }

  jogadores[cat][j1].sets += sets1;
  jogadores[cat][j2].sets += sets2;
  jogadores[cat][j1].saldo += sets1 - sets2;
  jogadores[cat][j2].saldo += sets2 - sets1;

  atualizarTabela(cat);

  document.getElementById('jogador1').value = '';
  document.getElementById('jogador2').value = '';
  document.getElementById('sets1').value = '';
  document.getElementById('sets2').value = '';
}
</script>

</body>
</html>
